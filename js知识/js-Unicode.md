# Unicode ä¸emoji

### ä»€ä¹ˆæ˜¯Unicode
Unicodeæ˜¯å›½é™…ç»„ç»‡åˆ¶å®šçš„å¯ä»¥å®¹çº³ä¸–ç•Œä¸Š **æ‰€æœ‰**æ–‡å­—å’Œç¬¦å·çš„å­—ç¬¦ç¼–ç æ–¹æ¡ˆï¼Œå®ƒä¸ºæ¯ç§è¯­è¨€ä¸­çš„æ¯ä¸ªå­—ç¬¦è®¾å®šäº†ç»Ÿä¸€å¹¶ä¸”å”¯ä¸€çš„ç¼–ç ã€‚

è¡¨ç¤ºä¸€ä¸ªUnicodeçš„å­—ç¬¦æ—¶ï¼Œé€šå¸¸ä¼šç”¨â€œU+â€ç„¶åç´§æ¥ç€ä¸€ç»„åå…­è¿›åˆ¶çš„æ•°å­—æ¥è¡¨ç¤ºè¿™ä¸€ä¸ªå­—ç¬¦ã€‚æ¯”å¦‚ï¼š U+4E25ï¼ŒU+1F600ï¼Œ U+1F601

**é‚£unicodeå’ŒUTF-8æœ‰ä½•åŒºåˆ«ï¼Ÿ**     
é€šä¿—ç‚¹å°±æ˜¯
* Unicode æ˜¯ã€Œå­—ç¬¦é›†ã€
* UTF-8 æ˜¯ã€Œç¼–ç è§„åˆ™ã€

**å­—ç¬¦é›†**ï¼šä¸ºæ¯ä¸€ä¸ªã€Œå­—ç¬¦ã€åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ IDï¼ˆå­¦åä¸ºç ä½ / ç ç‚¹ / Code Pointï¼‰   
**ç¼–ç è§„åˆ™**ï¼šå°†ã€Œç ç‚¹ã€è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è§„åˆ™

###JSä¸­å¦‚ä½•ä½¿ç”¨Unicode

**ç¼–ç **ï¼š

1.å­—ç¬¦ä¸²å½¢å¼      
javaScript å…è®¸é‡‡ç”¨ **\uxxxx**å½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­xxxxè¡¨ç¤ºå­—ç¬¦çš„ Unicode ç ç‚¹ã€‚ä»…é™äºç ç‚¹åœ¨ **\u0000~\uFFFF**ä¹‹é—´çš„å­—ç¬¦ã€‚è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å­—ç¬¦ï¼Œå¿…é¡»ç”¨ä¸¤ä¸ªåŒå­—èŠ‚çš„å½¢å¼è¡¨ç¤ºã€‚
```js
"\u0061" // 'a'

// es6è¡¨ç¤ºæ³•(æ”¯æŒè¶…è¿‡0xFFFFçš„æ•°å€¼)
"\u{1F601}"
```

2. jsæ–¹æ³•   

**es5**: **String.fromCharCode(Unicode)** (å±€é™äºUnicode ç ç‚¹ä¸å¤§äº0xFFFF)
```js
String.fromCharCode(65) //return "A"
```

**es6**: **String.fromCodePoint(Unicode)** (æ”¯æŒUnicode ç ç‚¹å¤§äº0xFFFF)
```js
String.fromCodePoint('0x1F601') // "ğŸ˜"
String.fromCodePoint('128513') // "ğŸ˜"
```

**è§£ç **     

**es5**: **str.charCodeAt()** (å±€é™äºUnicode ç ç‚¹ä¸å¤§äº0xFFFF)
```js
var str = 'ABC'
str.charCodeAt(0) // 65
```

**es6**: **str.codePointAt()** (æ”¯æŒUnicode ç ç‚¹å¤§äº0xFFFF)
```js
var str = "ğŸ˜"
str.codePointAt(0) // 128513 10è¿›åˆ¶
str.codePointAt(0).toString(16) // "1f601" 16è¿›åˆ¶
```

### emojiçš„ç¼–ç 
emoji ä¹Ÿæ˜¯ä¸€ä¸ªUnicodeå­—ç¬¦ã€‚2010å¹´ï¼ŒUnicode å¼€å§‹ä¸º Emoji åˆ†é…ç ç‚¹ã€‚   
æ¯”å¦‚ï¼š**U+1F4C5ï¼ŒU+1F468ï¼Œ U+1F600**ç­‰      
Unicode åªæ˜¯è§„å®šäº† Emoji çš„ç ç‚¹å’Œå«ä¹‰ï¼Œå¹¶æ²¡æœ‰è§„å®šå®ƒçš„æ ·å¼ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç ç‚¹U+1F600è¡¨ç¤ºä¸€å¼ å¾®ç¬‘çš„è„¸ï¼Œä½†æ˜¯è¿™å¼ è„¸é•¿ä»€ä¹ˆæ ·ï¼Œåˆ™ç”±å„ä¸ªç³»ç»Ÿè‡ªå·±å®ç°ã€‚

å¦‚æœç”¨æˆ·çš„ç³»ç»Ÿæ²¡æœ‰å®ç°è¿™ä¸ªEmojiç¬¦å·ï¼Œç”¨æˆ·å°±ä¼šçœ‹åˆ°ä¸€ä¸ªæ²¡æœ‰å†…å®¹çš„æ–¹æ¡†ï¼Œå› ä¸ºç³»ç»Ÿæ— æ³•æ¸²æŸ“è¿™ä¸ªç ç‚¹ã€‚

![emoji](../images/emoji.jpg)

å‚è€ƒé“¾æ¥ï¼š[emoji-text](http://www.unicode.org/Public/emoji/11.0/emoji-test.txt)

æˆªè‡³ç›®å‰ï¼Œå…±æœ‰2789ä¸ªemojiå­—ç¬¦ï¼›

###emojiç»„åˆ
Unicode å…è®¸å¤šä¸ªç ç‚¹ç»„åˆè¡¨ç¤ºä¸€ä¸ª Emojiã€‚
é€šè¿‡ **é›¶å®½åº¦è¿æ¥ç¬¦U+200D**å®ç°ã€‚
```
U+1F468ï¼šç”·äºº
U+1F469ï¼šå¥³äºº
U+1F467ï¼šå¥³å­©
æ¯”å¦‚U+1F468 U+200D U+1F469 U+200D U+1F467ï¼Œå°±ä¼šæ˜¾ç¤ºä¸ºä¸€ä¸ª Emoji ğŸ‘¨â€ğŸ‘©â€ğŸ‘§
å¦‚æœç”¨æˆ·çš„ç³»ç»Ÿä¸æ”¯æŒè¿™ç§æ–¹æ³•ï¼Œå°±è¿˜æ˜¯æ˜¾ç¤ºä¸ºä¸‰ä¸ªç‹¬ç«‹çš„ Emoji ğŸ‘¨ğŸ‘©ğŸ‘§
```

é›¶å®½è¿å­—ç¬¦ï¼ˆzero-width-joinerï¼ŒZWJï¼‰æ˜¯ä¸€ä¸ªä¸æ‰“å°å­—ç¬¦ï¼Œæ”¾åœ¨æŸäº›éœ€è¦å¤æ‚æ’ç‰ˆè¯­è¨€ï¼ˆå¦‚é˜¿æ‹‰ä¼¯è¯­ã€å°åœ°è¯­ï¼‰çš„ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´ã€‚
é›¶å®½è¿å­—ç¬¦ä½¿å¾—è¿™ä¸¤ä¸ªæœ¬ä¸ä¼šå‘ç”Ÿè¿å­—çš„å­—ç¬¦äº§ç”Ÿäº†è¿å­—æ•ˆæœã€‚é›¶å®½è¿å­—ç¬¦çš„Unicodeç ä½æ˜¯U+200D

```js
// å¤šç ç‚¹è½¬æˆemojiç»„åˆ
function unifiedToNative(unified) {
  var unicodes = unified.split('-'),
      codePoints = unicodes.map((u) => `0x${u}`)

  return String.fromCodePoint(...codePoints)
}

// å¤šç»„åˆemoji è½¬æˆç ç‚¹
var s = 'ğŸ‘©â€â¤ï¸â€ğŸ‘©';
for (let ch of s) {
  console.log(ch.codePointAt(0).toString(16)); // 1f469 200d 2764 fe0f 200d 1f469
}
```
